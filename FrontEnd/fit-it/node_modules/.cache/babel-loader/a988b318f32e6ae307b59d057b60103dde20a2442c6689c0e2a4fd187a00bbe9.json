{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nimport router from \"@/router\";\nimport createPersistedState from \"vuex-persistedstate\";\nVue.use(Vuex);\nconst REST_API = `http://localhost:9999`;\nexport default new Vuex.Store({\n  plugins: [createPersistedState()],\n  state: {\n    token: \"\",\n    loginUser: null,\n    videos: [],\n    video: null\n  },\n  getters: {},\n  mutations: {\n    LOGIN_USER(state, {\n      user,\n      token\n    }) {\n      state.user = user;\n      state.token = token;\n    },\n    SEARCH_VIDEO(state, videos) {\n      state.videos = videos;\n    }\n  },\n  actions: {\n    loginUser({\n      commit\n    }, user) {\n      console.log(user);\n      const API_URL = `${REST_API}/userApi/login`;\n      axios({\n        url: API_URL,\n        method: \"POST\",\n        data: user\n      }).then(res => {\n        if (res.data.message === \"success\") {\n          let token = res.data[\"access-token\"];\n          let loginUser = res.data[\"user\"];\n          commit(\"LOGIN_USER\", {\n            loginUser,\n            token\n          });\n          sessionStorage.setItem(\"access-token\", token);\n          router.push({\n            name: \"home\"\n          });\n        } else {\n          alert(\"로그인에 실패하였습니다.\");\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    createUser({\n      commit\n    }, user) {\n      const API_URL = `${REST_API}/userApi/signup`;\n      axios({\n        url: API_URL,\n        method: \"POST\",\n        data: user\n      }).then(res => {\n        commit;\n        res;\n        alert(\"회원 가입이 완료 되었습니다.\");\n        router.push(\"/login\");\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n    searchVideo({\n      commit\n    }, keyword) {\n      const YOUTUBE_KEY = process.env.VUE_APP_YOUTUBE_API_KEY;\n      const API_URL = `https://www.googleapis.com/youtube/v3/search`;\n      console.log(keyword);\n      axios({\n        url: API_URL,\n        method: \"GET\",\n        params: {\n          key: YOUTUBE_KEY,\n          part: 'snippet',\n          q: keyword,\n          type: 'video',\n          maxResults: 4\n        }\n      }).then(res => {\n        console.log(res.data.items);\n        commit(\"SEARCH_VIDEO\", res.data.items);\n      }).catch(err => console.log(err));\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","axios","router","createPersistedState","use","REST_API","Store","plugins","state","token","loginUser","videos","video","getters","mutations","LOGIN_USER","user","SEARCH_VIDEO","actions","commit","console","log","API_URL","url","method","data","then","res","message","sessionStorage","setItem","push","name","alert","catch","err","createUser","searchVideo","keyword","YOUTUBE_KEY","process","env","VUE_APP_YOUTUBE_API_KEY","params","key","part","q","type","maxResults","items","modules"],"sources":["C:/Fit-IT-/FrontEnd/fit-it/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport axios from 'axios';\r\nimport router from \"@/router\";\r\nimport createPersistedState from \"vuex-persistedstate\";\r\n\r\nVue.use(Vuex)\r\n\r\nconst REST_API = `http://localhost:9999`;\r\n\r\nexport default new Vuex.Store({\r\n  plugins: [createPersistedState()],\r\n  state: {\r\n    token: \"\",\r\n    loginUser: null,\r\n    videos: [],\r\n    video: null,\r\n  },\r\n  getters: {\r\n  },\r\n  mutations: {\r\n    LOGIN_USER(state, {user, token}) {\r\n      state.user = user;\r\n      state.token = token;\r\n    },\r\n    SEARCH_VIDEO(state, videos) {\r\n      state.videos = videos\r\n    },\r\n  },\r\n  actions: {\r\n    loginUser({ commit }, user) {\r\n      console.log(user);\r\n      const API_URL = `${REST_API}/userApi/login`;\r\n      axios({\r\n        url: API_URL,\r\n        method: \"POST\",\r\n        data: user,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.message === \"success\") {\r\n          let token = res.data[\"access-token\"];\r\n          let loginUser = res.data[\"user\"];\r\n          commit(\"LOGIN_USER\", { loginUser, token });\r\n          sessionStorage.setItem(\"access-token\", token);\r\n          router.push({ name: \"home\" });\r\n        } else {\r\n          alert(\"로그인에 실패하였습니다.\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    createUser({ commit }, user) {\r\n      const API_URL = `${REST_API}/userApi/signup`;\r\n      \r\n      axios({\r\n        url: API_URL,\r\n        method: \"POST\",\r\n        data: user,\r\n      })\r\n      .then((res) => {\r\n        commit;\r\n        res;\r\n        alert(\"회원 가입이 완료 되었습니다.\");\r\n        router.push(\"/login\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    },\r\n    searchVideo({commit}, keyword) {\r\n      const YOUTUBE_KEY = process.env.VUE_APP_YOUTUBE_API_KEY;\r\n      const API_URL = `https://www.googleapis.com/youtube/v3/search`;\r\n      \r\n      console.log(keyword);\r\n      axios({\r\n        url: API_URL,\r\n        method: \"GET\",\r\n        params: {\r\n          key: YOUTUBE_KEY,\r\n          part: 'snippet',\r\n          q: keyword,\r\n          type: 'video',\r\n          maxResults: 4,\r\n        }\r\n      })\r\n        .then((res) => {\r\n          console.log(res.data.items);\r\n          commit(\"SEARCH_VIDEO\", res.data.items)\r\n        })\r\n        .catch((err) => console.log(err));\r\n    },\r\n  },\r\n  modules: {\r\n  }\r\n})\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}